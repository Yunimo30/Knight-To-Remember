<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Knight to Remember</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Satisfy&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=MedievalSharp&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

    <div id="main-menu-screen">
        <div class="menu-content">
            <h1 class="game-title">A Knight to Remember</h1>
            <div class="menu-buttons">
                <button id="btn-continue" class="menu-btn hidden">Continue</button>
                
                <button id="btn-start-game" class="menu-btn">New Game</button>
                <button id="btn-tutorial" class="menu-btn">How To Play</button>
            </div>
            <div class="credits">Created by: Yunimo30</div>
        </div>
    </div>

    <div id="tutorial-screen" class="hidden">
        <div class="tutorial-paper">
            <h2>How To Play</h2>
            <div class="tutorial-text">
                <p><strong>Combat:</strong> Answer questions correctly to attack enemies. Wrong answers give the enemy a turn!</p>
                <p><strong>Defense:</strong> During the enemy turn, a slider will appear. Press <strong>[SPACE]</strong> in the Red Zone to block damage.</p>
                <p><strong>Map:</strong> Navigate the Dark Forest. Choose your path wiselyâ€”some lead to treasure, others to danger.</p>
                <p><strong>Items:</strong> Use potions from your inventory to heal between or during battles.</p>
            </div>
            <button id="btn-close-tutorial" class="menu-btn small">Back to Menu</button>
        </div>
    </div>

    <div id="cutscene-screen" class="hidden">
        <div class="lore-container">
            <p id="lore-text">
                The Kingdom of Syntax has fallen.<br><br>
                A dark corruption spreads through the Forest of Logic, scrambling the very code of our reality.<br><br>
                The Princess, the only one who holds the Source Key, has vanished.<br><br>
                You, a lone Knight, must traverse the bug-ridden woods, debug the enemies, and restore order.<br><br>
                Prepare yourself... logic is your only weapon.
            </p>
        </div>
        <button id="btn-skip-cutscene">Skip >></button>
    </div>

    <div id="game-container" class="hidden">
        
        <div id="transition-overlay" class="hidden"></div>
        <div id="input-blocker" class="hidden"></div>

        <div id="map-screen">
            <h2 id="world-title">Dark Forest</h2>
            
            <button id="btn-scroll-left" class="scroll-arrow"><i class="fa-solid fa-chevron-left"></i></button>
            <button id="btn-scroll-right" class="scroll-arrow"><i class="fa-solid fa-chevron-right"></i></button>
            <div id="map-nodes-container">
            </div>
        </div>

        <div id="event-screen" class="hidden">
            <div class="event-content">
                <h2 id="event-title">Event Title</h2>
                <div id="event-icon"></div>
                <p id="event-desc">Event Description</p>
                
                <div class="modal-actions"></div> 
            </div>
        </div>

        <div id="scroll-modal" class="hidden">
            <div class="scroll-handle top"></div>
            <div class="scroll-paper">
                <div class="scroll-inner-content">
                    <h2 id="scroll-title">Stage Name</h2>
                    <div class="scroll-divider"></div>
                    <p id="scroll-desc">Description of the stage...</p>
                    <div class="scroll-actions">
                        <button id="scroll-btn-go" class="scroll-btn confirm">
                            <i class="fa-solid fa-check"></i> Venture Forth
                        </button>
                        
                        <button id="scroll-btn-close" class="scroll-btn cancel">
                            <i class="fa-solid fa-xmark"></i> Retreat
                        </button>
                    </div>
                </div>
            </div>
            <div class="scroll-handle bottom"></div>
        </div>


        <div id="lesson-modal" class="modal hidden">
        <div class="lesson-content">
            <div class="lesson-header">
                <h2 id="lesson-title">Topic Title</h2>
                <button id="btn-close-lesson" class="close-icon"><i class="fa-solid fa-xmark"></i></button>
            </div>
            
            <div class="lesson-body">
                <div id="lesson-text-container">
                    </div>
                
                <div class="code-display">
                    <pre><code id="lesson-code">System.out.println("Loading...");</code></pre>
                </div>
            </div>

            <div class="lesson-footer">
                <div class="slide-dots" id="lesson-dots">
                    </div>
                <button id="btn-start-combat" class="scroll-btn confirm">COMPILE & FIGHT <i class="fa-solid fa-play"></i></button>
            </div>
        </div>
    </div>

        <div id="turn-banner" class="turn-banner">PLAYER TURN</div>

        <div id="battle-arena">
            <div id="player-area">
                <div class="hp-container">
                    <span class="hp-label">Knight</span>
                    <div id="player-hp-bar" class="hearts"></div>
                </div>
                <div id="player-sprite" class="sprite"><i class="fa-solid fa-user-shield"></i></div>
            </div>

            <div id="enemy-area">
                <div class="hp-container">
                    <span id="enemy-name" class="hp-label">Enemy</span>
                    <div id="enemy-hp-bar" class="hearts"></div>
                </div>
                <div id="enemy-sprite" class="sprite"><i class="fa-solid fa-skull"></i></div>
            </div>

            <div id="flash-overlay"></div>

            <div id="qte-container" class="hidden">
                <p>PRESS [SPACE] OR CLICK TO BLOCK!</p>
                <div id="qte-bar">
                    <div id="qte-target-zone"></div>
                    <div id="qte-cursor"></div>
                </div>
                <button id="btn-qte-block">BLOCK!</button>
            </div>

            <div id="combat-feedback" class="hidden">Correct!</div>
        </div>

        <div id="ui-dashboard">
            
            <div class="panel-side" id="panel-left">
                <div class="stat-box">
                    <h3>LEVEL</h3>
                    <p id="level-indicator">1</p>
                </div>
                <button id="btn-use-hint" class="interactive-stat">
                    <h3>HINT (Use)</h3>
                    <p id="hint-counter"><i class="fa-solid fa-lightbulb"></i> x 1</p>
                </button>
            </div>

            <div class="panel-quiz">
                <div id="timer-container">
                    <div id="timer-bar-left" class="timer-bar"></div>
                    <div id="timer-bar-right" class="timer-bar"></div>
                </div>

                <div id="question-box">
                    <p id="question-text">Loading...</p>
                    
                    <div id="code-snippet" class="hidden">
                        <pre><code>System.___.println("Hello");</code></pre>
                    </div>
                </div>

                <div id="answer-grid">
                    <button class="answer-btn" id="btn-0">A</button>
                    <button class="answer-btn" id="btn-1">B</button>
                    <button class="answer-btn" id="btn-2">C</button>
                    <button class="answer-btn" id="btn-3">D</button>
                </div>

                <div id="input-answer-container" class="hidden">
                    <input type="text" id="player-input" placeholder="Type your answer here..." autocomplete="off">
                    <button id="btn-submit-input" class="control-btn">ATTACK!</button>
                </div>
            </div>

            <div class="panel-side" id="panel-right">
                <button id="btn-items" class="control-btn"><i class="fa-solid fa-briefcase"></i> ITEMS</button>
                <button id="btn-menu" class="control-btn"><i class="fa-solid fa-gear"></i> MENU</button>
            </div>
        </div>

    </div>


    <div id="journal-btn-container" title="Open Journal">
        <div id="journal-book-icon">
            JOURNAL
        </div>
    </div>
    
    <div id="settings-btn-container" title="Settings">
        <div id="settings-icon">
            <i class="fa-solid fa-gear"></i>
        </div>
    </div>

    <div id="settings-modal" class="hidden">
        <h3>Audio Options</h3>
        
        <div class="setting-row">
            <label><i class="fa-solid fa-music"></i> Music</label>
            <input type="range" id="vol-bgm" min="0" max="1" step="0.1" value="0.5">
        </div>

        <div class="setting-row">
            <label><i class="fa-solid fa-sword"></i> Game SFX</label>
            <input type="range" id="vol-game" min="0" max="1" step="0.1" value="0.5">
        </div>

        <div class="setting-row">
            <label><i class="fa-solid fa-hand-pointer"></i> UI SFX</label>
            <input type="range" id="vol-ui" min="0" max="1" step="0.1" value="0.1">
        </div>

        <button id="btn-close-settings" class="menu-btn small" style="width:100%; margin-top:10px;">Close</button>
    </div>

    <div id="journal-modal" class="modal hidden">
        <div class="parchment-modal">
            <div class="journal-sidebar" id="journal-list">
                </div>
            
            <div class="journal-content">
                <button id="btn-close-journal" class="close-icon" style="color:#3e2723; float:right;"><i class="fa-solid fa-xmark"></i></button>
                <h2 id="journal-topic-title" style="border-bottom: 2px solid #3e2723; padding-bottom:10px;">Select a Topic</h2>
                <div id="journal-display-area">
                    <p>Select a lesson from the left to review your notes.</p>
                </div>
            </div>
        </div>
    </div>

    <div id="live-lesson-modal" class="modal hidden">
        <div class="scroll-paper-content">
            <h2 id="live-lesson-title">Topic Title</h2>
            <div id="live-lesson-display" class="lesson-text-area">
                </div>
            <button id="btn-live-continue" class="scroll-btn confirm" style="width: 100%; margin-top: 20px;">
                Store in Journal & Continue
            </button>
        </div>
    </div>



    <div id="inventory-modal" class="modal hidden">
        <div class="modal-content">
            <h2>ðŸŽ’ Inventory</h2>
            <ul id="inventory-list">
                <li>No items yet...</li>
            </ul>
            <div class="modal-actions">
                <button id="close-inventory" class="scroll-btn confirm">Close</button>
            </div>
        </div>
    </div>

    <div id="message-modal" class="modal hidden">
        <div class="modal-content">
            <h2 id="msg-title">Title</h2>
            <div id="msg-icon" style="font-size: 3rem; margin: 15px 0;"></div>
            <p id="msg-text">Message goes here...</p>
            <div class="modal-actions">
                <button id="btn-msg-action" class="scroll-btn confirm">Continue</button>
            </div>
        </div>
    </div>

    <div id="pause-menu" class="modal hidden">
        <div class="modal-content" style="width: 300px;">
            <h2>PAUSED</h2>
            <div class="menu-buttons" style="margin-top: 20px;">
                <button id="btn-resume" class="menu-btn small">Resume</button>
                <button id="btn-quit" class="menu-btn small">Quit to Title</button>
            </div>
        </div>
    </div>



    <script type="module" src="js/main.js"></script> 
</body>
</html>